<h2>Entries</h2>

<table id="entries-table" cellspacing="0" cellpadding="1">
  @for (row of ColTable.Rows; track row) {
    <ng-container>
      <tr>
        @for (tc of row.Cols; track tc; let i = $index) {
          <ng-container>
            @if (tc.th) {
              <th
                [ngStyle]="{ 'background-color': tc.color, 'text-align': tc.align }"
                (click)="thClick(i)"
              >
                {{ tc.text }}
              </th>
            }
            @if (tc.td) {
              <td [ngStyle]="{ 'background-color': tc.color, 'text-align': tc.align }">
                {{ tc.text }}
              </td>
            }
          </ng-container>
        }
      </tr>
    </ng-container>
  }
</table>

@if (BOManager.BigButtonRow) {
  <div class="button-row">
    <button mat-button (click)="empty()">Empty</button>
    <button mat-button (click)="ensureCount()">Count</button>
    @if (BOManager.IsDebug) {
      <button mat-button (click)="loadNames()">Load</button>
    }
    <button mat-button (click)="clear()">Clear</button>
    <button mat-button (click)="show()">Show</button>
    <button mat-button (click)="pushEntry()">Push</button>
    <button mat-button (click)="popEntry()">Pop</button>
    @if (BOManager.IsDebug) {
      <button mat-button (click)="sortOrderClear()">SO</button>
    }
  </div>
}

@if (!BOManager.BigButtonRow) {
  <ng-container>
    <button mat-icon-button (click)="empty()">
      <mat-icon>delete_outline</mat-icon>
    </button>
    <button mat-icon-button (click)="ensureCount()">
      <mat-icon>control_point</mat-icon>
    </button>
    @if (BOManager.IsDebug) {
      <button mat-icon-button (click)="loadNames()">
        <mat-icon>edit</mat-icon>
      </button>
    }
    <button mat-icon-button (click)="clear()">
      <mat-icon>delete_forever</mat-icon>
    </button>
    <button mat-icon-button (click)="pushEntry()">
      <mat-icon>add</mat-icon>
    </button>
    <button mat-icon-button (click)="popEntry()">
      <mat-icon>remove</mat-icon>
    </button>
    @if (BOManager.IsDebug) {
      <button mat-icon-button (click)="sortOrderClear()">
        <mat-icon>sort</mat-icon>
      </button>
    }
    <button mat-icon-button (click)="toggleLegend()">
      <mat-icon>camera</mat-icon>
    </button>
  </ng-container>
}

@if (LegendVisible) {
  <app-icon-bar-legend [caption]="'Entries'" [bar]="legend"></app-icon-bar-legend>
}
